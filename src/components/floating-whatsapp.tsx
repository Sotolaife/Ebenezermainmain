import Link from 'next/link';
import { WHATSAPP_LINK } from '@/lib/constants';
import { Button } from './ui/button';

const WhatsAppIcon = () => (
  <svg
    width="24"
    height="24"
    viewBox="0 0 24 24"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      fillRule="evenodd"
      clipRule="evenodd"
      d="M12.039 2C6.507 2 2.039 6.468 2.039 11.999C2.039 14.183 2.685 16.235 3.82 17.95L2.625 21.999L6.828 20.829C8.475 21.84 10.428 22.463 12.039 22.463C17.571 22.463 22.039 18 22.039 12.468C22.039 6.936 17.571 2.468 12.039 2.468V2Z M10.134 17.476C9.919 17.476 8.526 16.78 8.418 16.726C8.31 16.672 8.01 16.591 7.683 16.291C7.356 15.991 6.834 15.442 6.942 14.65C7.05 13.858 7.683 13.252 7.847 13.06C7.983 12.868 8.118 12.705 8.01 12.513C7.902 12.321 7.242 10.603 6.996 10.027C6.75 9.451 6.504 9.532 6.312 9.532C6.147 9.532 5.955 9.532 5.763 9.532C5.571 9.532 5.217 9.613 4.917 9.913C4.617 10.213 3.825 10.936 3.825 12.513C3.825 14.09 4.944 15.586 5.109 15.778C5.274 15.97 7.023 18.667 9.891 19.954C12.759 21.241 12.759 20.839 13.254 20.785C13.749 20.731 14.943 20.089 15.162 19.342C15.381 18.595 15.381 18.019 15.3 17.881C15.219 17.743 15.084 17.689 14.841 17.581C14.598 17.473 13.152 16.78 12.879 16.672C12.606 16.564 12.414 16.51 12.249 16.81C12.084 17.11 11.589 17.686 11.424 17.881C11.259 18.073 11.094 18.101 10.851 17.992C10.608 17.884 9.612 17.554 8.418 16.489C7.452 15.652 6.861 14.626 6.726 14.326C6.591 14.026 6.756 13.834 6.912 13.687C7.038 13.567 7.218 13.348 7.356 13.183C7.491 13.018 7.545 12.91 7.653 12.705C7.761 12.5 7.707 12.346 7.653 12.238C7.599 12.13 7.077 11.392 6.885 10.936C6.693 10.48 6.501 10.024 6.609 9.844C6.69 9.706 6.882 9.679 7.02 9.679C7.155 9.679 7.29 9.679 7.401 9.679C7.512 9.679 7.731 9.652 7.896 9.994C8.061 10.336 8.583 11.335 8.691 11.497C8.799 11.659 8.907 11.848 8.826 11.983C8.745 12.118 8.691 12.199 8.61 12.28C8.529 12.361 8.418 12.496 8.31 12.604C8.202 12.712 8.094 12.82 8.259 13.093C8.424 13.366 9.12 14.413 10.032 15.241C10.944 16.069 11.802 16.396 12.084 16.477C12.366 16.558 12.609 16.531 12.756 16.342C12.903 16.153 13.257 15.685 13.449 15.385C13.641 15.085 13.833 15.031 14.076 15.112C14.319 15.193 15.765 15.889 16.038 15.997C16.311 16.105 16.503 16.159 16.584 16.267C16.665 16.375 16.665 17.008 16.392 17.281C16.119 17.554 10.348 17.476 10.134 17.476Z"
      fill="currentColor"
    />
  </svg>
);


export function FloatingWhatsApp() {
  return (
    <Button asChild size="icon" className="fixed bottom-6 right-6 h-14 w-14 rounded-full shadow-lg z-40">
      <Link href={`${WHATSAPP_LINK}?text=Hello! I'm interested in discussing an artwork.`} target="_blank" rel="noopener noreferrer" aria-label="Contact via WhatsApp">
         <WhatsAppIcon />
      </Link>
    </Button>
  );
}
